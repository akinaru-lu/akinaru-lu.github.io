<feed xmlns="http://www.w3.org/2005/Atom"> <id>https://www.lumingming.net/</id><title>小树洞</title><subtitle>这里是漂泊日本的一名小码农的小树洞，记录一些日常技术和生活相关的琐事。</subtitle> <updated>2021-09-28T23:11:51+09:00</updated> <author> <name>Mingming Lu</name> <uri>https://www.lumingming.net/</uri> </author><link rel="self" type="application/atom+xml" href="https://www.lumingming.net/feed.xml"/><link rel="alternate" type="text/html" hreflang="en" href="https://www.lumingming.net/"/> <generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator> <rights> © 2021 Mingming Lu </rights> <icon>/assets/img/favicons/favicon.ico</icon> <logo>/assets/img/favicons/favicon-96x96.png</logo> <entry><title>unicorn:restart踩坑记</title><link href="https://www.lumingming.net/posts/unicorn-restart%E8%B8%A9%E5%9D%91%E8%AE%B0/" rel="alternate" type="text/html" title="unicorn:restart踩坑记" /><published>2021-09-25T23:36:21+09:00</published> <updated>2021-09-26T16:11:00+09:00</updated> <id>https://www.lumingming.net/posts/unicorn-restart%E8%B8%A9%E5%9D%91%E8%AE%B0/</id> <content src="https://www.lumingming.net/posts/unicorn-restart%E8%B8%A9%E5%9D%91%E8%AE%B0/" /> <author> <name>Mingming Lu</name> </author> <category term="tech" /> <summary> Unicorn是Ruby生态圈的Web服务器。最近在工作上使用Unicorn的时候踩了一些坑，在此梳理一下。 目前公司里使用Capistrano来进行Ruby on Rails的部署，但是在部署之后遇到了没有读取新的环境变量的问题。然后谷歌了一圈，了解了Unicorn的进程模型和信号处理，Dotenv库是如何处理环境变量的，等等。最后的解决方法很简单，改一行代码就搞定了，但是这个过程花了不少时间。 多进程模型 单master-多worker模式，由master加载源代码，各个worker fork自master，所以是master的一份复制。实际的负载也是由worker来处理的。而worker进程间的负载均衡则交给操作系统去做1。 I, [#65753] INFO -- : worker=0 ready I, [#65748] INFO -- : master pr... </summary> </entry> </feed>
